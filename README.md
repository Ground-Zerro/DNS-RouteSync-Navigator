## DNS-RouteSync-Navigator


**Основные функции:** Этот скрипт представляет собой простой DNS сервер, способный автоматически добавлять статические маршруты на роутере для указанных в фильтре доменов.
- Создано в первую очередь для роутеров Keenetic младших моделей.

**Функции:**
- Принимает DNS запросы от клиентов и разрешает их IP-адрес используя вышестоящий DNS сервер.
- Проверяет полученное DNS имя на соответствие фильтру доменов, указанному в конфигурационном файле.
- При обнаружении совпадения DNS имени с фильтром, посредством Telnet добавляет в роутере статический маршрут для перенаправления трафика к IP-адресу домена через VPN соединение.


**Зависимости:** Для работы DNS-RouteSync-Navigator необходимо наличие следующих библиотек Python:
- telnetlib3
- configparser
- dnslib

*Не забудьте установить их перед запуском:*
```
pip3 install -r requirements.txt
```

**Использование:**

Заполните конфигурационный файл config.ini, указав все необходимые параметры.

В файл domain.txt внесите доменные имена, для которых требуется перенаправление трафика.

Установите IP адрес машины с запрущенным DNS-RouteSync-Navigator в качестве основного DNS на роутере или ПК.

Скрип будет слушать DNS запросы и добавлять статические маршруты для перенаправления трафика к доменмым именам, указанным в фильтре, через VPN соединение роутера.



#### Протестировано в Windows 11


**От автора:** Скрипт разработан в качестве "proof of concept" и представляет собой логическое продолжение проекта DomainMapper. Главной целью является предоставление альтернативы OPKG пакетам на роутерах Keenetic младших моделей, не поддерживающих установку entware.

